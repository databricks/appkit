---
sidebar_position: 5
---

# Configuration

This guide covers environment variables and configuration options for AppKit applications.

## Environment Variables

### Required for Databricks Apps Deployment

These are typically **provided by Databricks Apps runtime** (exact set can vary by platform/version):

| Variable | Description |
|----------|-------------|
| `DATABRICKS_HOST` | Workspace URL (e.g. `https://xxx.cloud.databricks.com`) |
| `DATABRICKS_APP_PORT` | Port to bind (default: `8000`) |
| `DATABRICKS_APP_NAME` | App name in Databricks |

### Required for SQL Queries (Analytics Plugin)

| Variable | Description | How to Set |
|----------|-------------|------------|
| `DATABRICKS_WAREHOUSE_ID` | SQL warehouse ID | In `app.yaml`: `valueFrom: sql-warehouse` |

See the [app.yaml configuration](./app-management.mdx#configuration) section for details on how to bind this variable.

### Optional Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `DATABRICKS_WORKSPACE_ID` | Workspace ID | Auto-fetched from API |
| `NODE_ENV` | `"development"` or `"production"` | â€” |
| `FLASK_RUN_HOST` | Host to bind | `0.0.0.0` |

### Telemetry (Optional)

| Variable | Description |
|----------|-------------|
| `OTEL_EXPORTER_OTLP_ENDPOINT` | OpenTelemetry collector endpoint |
| `OTEL_SERVICE_NAME` | Service name for traces |

## Local Development Authentication

For local development, you need to authenticate with Databricks. Choose one of the following options:

### Option 1: Databricks CLI Auth (Recommended)

```bash
# Configure once
databricks auth login --host [host] --profile [profile-name]

# If you used `DEFAULT` as the profile name then you can just run
npm run dev

# To run with a specific profile
DATABRICKS_CONFIG_PROFILE=my-profile npm run dev

# If your Databricks SDK expects a different variable name, try:
# DATABRICKS_PROFILE=my-profile npm run dev
```

### Option 2: Environment Variables

```bash
export DATABRICKS_HOST="https://xxx.cloud.databricks.com"
export DATABRICKS_TOKEN="dapi..."
export DATABRICKS_WAREHOUSE_ID="abc123..."
npm run dev
```

### Option 3: `.env` File (Auto-loaded by AppKit)

Create a `.env` file in your project root (add to `.gitignore`!):

```bash
DATABRICKS_HOST=https://xxx.cloud.databricks.com
DATABRICKS_TOKEN=dapi...
DATABRICKS_WAREHOUSE_ID=abc123...
```

Then run:

```bash
npm run dev
```

## See Also

- [App management](./app-management.mdx) - Deploying and managing apps
- [Plugins](./plugins.md) - Plugin configuration options
